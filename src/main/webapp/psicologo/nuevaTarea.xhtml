<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<ui:include src="/includes/headComun.xhtml" />
	<title>Añadir nueva tarea al expediente</title>
</h:head>
<h:body>
	#{sessionMB.nuevaTareaLoad()}
	<ui:include src="/includes/bodyComun.xhtml" />
	<ui:include src="/includes/panelUsuario.xhtml" />
	<ui:include src="/dialogos/dialogoNuevoCampo.xhtml" />
	
	<p:panelGrid>
		<p:row>
			<p:column>
				<h:form>
					<p:panelGrid styleClass="panelNuevaTareaIzq">
						<p:row>
							<p:column colspan="2">
								<h:outputText value="Datos de la tarea" styleClass="titulo" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<h:outputLabel for="tituloTarea" value="Título:" />
							</p:column>
							<p:column>
								<p:inputText id="tituloTarea" value="#{tareaMB.titulo}"
									placeholder="Título" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<h:outputLabel for="descripcionTarea" value="Descripción: " />
							</p:column>
							<p:column colspan="3">
								<p:inputTextarea id="descripcionTarea"
									value="#{tareaMB.descripcion}" placeholder="Descripción" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<h:outputLabel for="importante" value="¿Importante?" />
							</p:column>
							<p:column>
								<h:selectBooleanCheckbox id="importante"
									value="#{tareaMB.importante}" styleClass="checkBox" />
								<h:outputLabel for="importante" value="¿Importante?"
									styleClass="checkBoxLabelMovil" />
							</p:column>
						</p:row>
					</p:panelGrid>
					<p:panelGrid styleClass="panelNuevaTareaDer">
						<p:row>
							<p:column>
								<h:outputText value="Campos de la tarea" styleClass="titulo" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:commandButton id="nuevoCampo" icon="ui-icon-plusthick"
									value="Nuevo Campo" title="Nuevo Campo"
									oncomplete="PF('dialogoNuevoCampo').show()"
									rendered="#{renderingMB.botonGestionCampos}"
									styleClass="botonConTexto" />
								<p:pickList id="campos" value="#{tareaMB.camposEnNuevaTarea}"
									var="campos" itemLabel="#{campos}" itemValue="#{campos}">
									<f:facet name="sourceCaption">Campos Fuera</f:facet>
									<f:facet name="targetCaption">Campos en Tarea</f:facet>
								</p:pickList>
							</p:column>
						</p:row>
					</p:panelGrid>
					<p:commandButton id="crearTarea" icon="ui-icon-plusthick"
						value="Crear Tarea" title="Crear Tarea" onclick="mostrarMosca();"
						action="#{tareaMB.crearNuevaTarea}"
						rendered="#{renderingMB.botonCrearNuevaTarea}"
						styleClass="botonConTexto botonEnviarFormulario" />
				</h:form>
			</p:column>
		</p:row>
		<p:row>
			<p:column>
				<h:form styleClass="botonera">
					<p:commandButton id="volver" icon="ui-icon-arrowthick-1-w"
						value="Volver" title="Volver" onclick="mostrarMosca();"
						action="#{navegacionMB.toExpediente}"
						styleClass="botonConTexto botonVolverAtras" />
				</h:form>
			</p:column>
		</p:row>
	</p:panelGrid>
</h:body>

</html>
