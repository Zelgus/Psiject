<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<ui:include src="/includes/headComun.xhtml" />
	<title>Dar de alta a un nuevo paciente</title>
</h:head>
<h:body>
	#{sessionMB.altaExpedienteLoad()}
	<ui:include src="/includes/bodyComun.xhtml" />
	<ui:include src="/includes/panelUsuario.xhtml" />
	<ui:include src="/dialogos/dialogoModificarPermisos.xhtml" />

	<p:panelGrid>
		<p:row>
			<p:column>
				<h:form>
					<p:panelGrid>
						<p:row>
							<p:column>
								<p:panelGrid>
									<p:row>
										<p:column>
											<h:outputLabel for="nombreExp" value="Nombre:" />
										</p:column>
										<p:column>
											<p:inputText id="nombreExp" value="#{expedienteMB.nombre}"
												placeholder="Nombre" />
										</p:column>
									</p:row>
									<p:row>
										<p:column>
											<h:outputLabel for="apellidoExp" value="Apellidos:" />
										</p:column>
										<p:column>
											<p:inputText id="apellidoExp"
												value="#{expedienteMB.apellidos}" placeholder="Apellidos" />
										</p:column>
									</p:row>
									<p:row>
										<p:column>
											<h:outputLabel for="correo" value="Email:" />
										</p:column>
										<p:column>
											<p:inputText id="correo" value="#{expedienteMB.correo}"
												placeholder="Email" />
										</p:column>
									</p:row>
								</p:panelGrid>
							</p:column>
							<p:column>
								<p:panelGrid>
									<p:row>
										<p:column colspan="2">
											<p:commandButton id="generarUsuario" icon="ui-icon-person"
												value="Generar Usuario" title="Generar Usuario"
												action="#{expedienteMB.generarUsuario}" update="@form"
												rendered="#{renderingMB.botonAltaExpediente}"
												styleClass="botonConTexto" />
										</p:column>
									</p:row>
									<p:row>
										<p:column>
											<h:outputLabel for="usuario" value="Usuario:" />
										</p:column>
										<p:column>
											<p:inputText id="usuario" value="#{expedienteMB.usuario}"
												placeholder="Usuario" />
										</p:column>
									</p:row>
									<p:row>
										<p:column>
											<h:outputLabel for="contrasena" value="Contraseña:" />
										</p:column>
										<p:column>
											<p:password id="contrasena"
												value="#{expedienteMB.contrasena}" redisplay="true"
												placeholder="Contraseña" />
										</p:column>
									</p:row>
								</p:panelGrid>
							</p:column>
						</p:row>
					</p:panelGrid>
					<p:commandButton id="darDeAlta" icon="ui-icon-plusthick"
						value="Dar de Alta" title="Dar de Alta" onclick="mostrarMosca();"
						action="#{expedienteMB.altaExpediente}"
						rendered="#{renderingMB.botonAltaExpediente}"
						styleClass="botonConTexto">
						<f:setPropertyActionListener value="#{expediente}"
							target="#{sessionMB.expedienteSeleccionado}" />
					</p:commandButton>
				</h:form>
				<h:form>
					<p:commandButton id="volver" icon="ui-icon-arrowthick-1-w"
						value="Volver" title="Volver" onclick="mostrarMosca();"
						action="#{navegacionMB.toPsicologo}" styleClass="botonConTexto" />
				</h:form>
			</p:column>
		</p:row>
	</p:panelGrid>
</h:body>

</html>
